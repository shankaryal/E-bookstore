{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shank\\\\OneDrive\\\\Desktop\\\\E-bookstore\\\\frontend\\\\src\\\\components\\\\Book\\\\ListBook.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { FaTrashAlt } from \"react-icons/fa\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListBook = () => {\n  _s();\n  const [bookList, setBookList] = useState([]);\n  useEffect(() => {\n    async function getBooks() {\n      try {\n        const response = await axios.get(\"http://localhost:8000/books\");\n        if (response.data) {\n          setBookList(response.data);\n        }\n      } catch (error) {\n        console.error(\"Error fetching books:\", error);\n        toast.error(\"Error fetching books\");\n      }\n    }\n    getBooks();\n  }, []);\n  const deleteBook = async (id, idx) => {\n    const confirmDelete = window.confirm(\"Do you want to delete?\");\n    if (confirmDelete) {\n      try {\n        const response = await axios.get(`http://localhost:8000/books/delete/${id}`);\n        if (response.data.success) {\n          const newBookList = bookList.filter((book, index) => index !== idx);\n          setBookList(newBookList);\n          toast.success(\"Book Deleted\");\n        } else {\n          toast.error(\"Unable to delete book\");\n        }\n      } catch (err) {\n        console.error(\"Error deleting book:\", err);\n        toast.error(\"Error deleting book\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"center\", {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), bookList.length > 0 ? bookList.map((book, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        boxShadow: \"0px 0px 5px #ccc\",\n        padding: \"10px\",\n        margin: \"10px\",\n        color: \"green\",\n        width: \"45%\",\n        textAlign: \"start\",\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      children: [book.name, /*#__PURE__*/_jsxDEV(FaTrashAlt, {\n        color: \"red\",\n        style: {\n          cursor: \"pointer\"\n        },\n        onClick: () => deleteBook(book.id, index)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No Books\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(ListBook, \"Hj6ZrQm0gjj4xCIh6Y5Z7AtqdM4=\");\n_c = ListBook;\nexport default ListBook;\nvar _c;\n$RefreshReg$(_c, \"ListBook\");","map":{"version":3,"names":["axios","React","useEffect","useState","FaTrashAlt","ToastContainer","toast","jsxDEV","_jsxDEV","ListBook","_s","bookList","setBookList","getBooks","response","get","data","error","console","deleteBook","id","idx","confirmDelete","window","confirm","success","newBookList","filter","book","index","err","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","style","boxShadow","padding","margin","color","width","textAlign","display","justifyContent","name","cursor","onClick","_c","$RefreshReg$"],"sources":["C:/Users/shank/OneDrive/Desktop/E-bookstore/frontend/src/components/Book/ListBook.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { FaTrashAlt } from \"react-icons/fa\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst ListBook = () => {\r\n  const [bookList, setBookList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getBooks() {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:8000/books\");\r\n        if (response.data) {\r\n          setBookList(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching books:\", error);\r\n        toast.error(\"Error fetching books\");\r\n      }\r\n    }\r\n\r\n    getBooks();\r\n  }, []);\r\n\r\n  const deleteBook = async (id, idx) => {\r\n    const confirmDelete = window.confirm(\"Do you want to delete?\");\r\n    if (confirmDelete) {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:8000/books/delete/${id}`\r\n        );\r\n        if (response.data.success) {\r\n          const newBookList = bookList.filter((book, index) => index !== idx);\r\n          setBookList(newBookList);\r\n          toast.success(\"Book Deleted\");\r\n        } else {\r\n          toast.error(\"Unable to delete book\");\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error deleting book:\", err);\r\n        toast.error(\"Error deleting book\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <center>\r\n      <ToastContainer />\r\n      {bookList.length > 0 ? (\r\n        bookList.map((book, index) => (\r\n          <div\r\n            key={index}\r\n            style={{\r\n              boxShadow: \"0px 0px 5px #ccc\",\r\n              padding: \"10px\",\r\n              margin: \"10px\",\r\n              color: \"green\",\r\n              width: \"45%\",\r\n              textAlign: \"start\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            {book.name}\r\n            <FaTrashAlt\r\n              color=\"red\"\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => deleteBook(book.id, index)}\r\n            />\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <div>No Books</div>\r\n      )}\r\n    </center>\r\n  );\r\n};\r\n\r\nexport default ListBook;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}